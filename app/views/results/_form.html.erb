<%= form_with(model: result, class: "card p-4") do |f| %>
  <!-- 1. Choix du match -->
  <div class="mb-3">
    <%= f.label :match_id, "Match" %>
    <%= f.collection_select :match_id,
          Match.includes(:team_a, :team_b).order(played_at: :desc),
          :id,
          ->(m) { "#{m.team_a.name} vs #{m.team_b.name} – #{l m.played_at, format: :short}" },
          prompt: "Choisir un match", class: "form-select" %>
  </div>

  <!-- 2. Choix du vainqueur -->
  <div class="mb-3">
    <%= f.label :winner_id, "Équipe gagnante" %>
    <%= f.collection_select :winner_id,
          Team.order(:name),
          :id, :name,
          prompt: "Sélectionner", class: "form-select" %>
  </div>

  <!-- 3. Choix du perdant -->
  <div class="mb-3">
    <%= f.label :loser_id, "Équipe perdante" %>
    <%= f.collection_select :loser_id,
          Team.order(:name),
          :id, :name,
          prompt: "Sélectionner", class: "form-select" %>
  </div>

  <!-- 4. Match nul -->
  <div class="form-check mb-3">
    <%= f.check_box :draw, class: "form-check-input" %>
    <%= f.label :draw, "Match nul", class: "form-check-label" %>
  </div>

  <!-- 5. Score -->
  <div class="mb-3">
    <%= f.label :score, "Score" %>
    <%= f.text_field :score, class: "form-control", placeholder: "1-0" %>
  </div>

  <%= f.submit "Enregistrer", class: "btn btn-primary" %>
<% end %>
